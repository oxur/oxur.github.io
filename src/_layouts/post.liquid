<!DOCTYPE html>
<html lang="en" class="group/html">
<head>
{% include "head.liquid" %}
</head>
<body>
{% include "topbar.liquid" %}

<article class="container mx-auto px-4 pt-24 pb-12 max-w-4xl flex flex-col gap-8">
<!-- Post Header -->
<header class="space-y-4">
{% if page.tags.size > 0 %}
<div class="badge badge-outline badge-lg italic text-primary">{{ page.tags[0] }}</div>
{% endif %}
<h1 class="text-4xl md:text-5xl lg:text-6xl font-bold leading-tight">{{ page.title }}</h1>
{% if page.description %}
<p class="text-xl text-base-content/70 leading-relaxed">{{ page.description }}</p>
{% endif %}
<section class="flex items-center gap-3 pt-2">
<div class="avatar placeholder">
<div class="bg-primary text-primary-content rounded-full w-12">
<span class="text-xl">O</span>
</div>
</div>
<div class="flex flex-col">
<h2 class="font-semibold text-base">Oxur Team</h2>
<time class="text-sm text-base-content/60" datetime="{{ page.published_date | date: '%Y-%m-%d' }}">
{{ page.published_date | date: "%Y/%m/%d" }}
</time>
</div>
</section>
</header>

<!-- Featured Image (if available) -->
{% if page.data.image %}
<img src="{{ page.data.image }}" alt="{{ page.title }}" class="w-full h-auto rounded-2xl object-cover max-h-96" />
{% endif %}

<!-- Post Content -->
<section class="prose prose-lg md:prose-xl max-w-none">
{{ page.content }}
</section>

<!-- Post Footer -->
<footer class="border-t border-base-300 pt-8 mt-8 space-y-6">
<!-- Tags -->
{% if page.tags.size > 0 %}
<div class="flex flex-wrap gap-2 items-center">
<span class="font-semibold text-sm">Tagged:</span>
{% for tag in page.tags %}<a href="/blog/tags/{{ tag | slugify }}/" class="badge badge-lg badge-info transition-colors">{{ tag }}</a>{% endfor %}
</div>
{% endif %}

<!-- Navigation -->
<div class="flex flex-col sm:flex-row justify-between gap-4">
<a href="/blog/" class="btn hover:btn-primary">
<span class="iconify lucide--arrow-left size-5"></span>
Back to Blog
</a>
</div>
</footer>
</article>

{% include "footer.liquid" %}
{% include "theme-toggle.liquid" %}

<script src="/assets/js/highlight-all.min.js"></script>
<script>
// Add Oxur-specific keywords to Clojure highlighting
if (hljs && hljs.getLanguage('clojure')) {
const clojureDef = hljs.getLanguage('clojure');

hljs.registerLanguage('oxur', function(hljs) {
// Create a pattern to match Oxur definition forms
const oxurDefPattern = {
begin: '\\(\\s*(deffn|defimpl)\\b',
end: '(\\[|\\{|\\()',
excludeEnd: true,
keywords: {
keyword: 'deffn defimpl'
},
contains: [
{
className: 'title',
begin: '[a-zA-Z_\\-!.?+*=<>&#\'][a-zA-Z_\\-!.?+*=<>&#\'0-9/]*',
relevance: 0
}
]
};

// Combine with Clojure contains at the front (higher priority)
const contains = [oxurDefPattern].concat(clojureDef.contains || []);

return {
name: 'Oxur',
aliases: ['lisp'],
contains: contains
};
});
}
hljs.highlightAll();
</script>
<script src="/assets/js/main.js"></script>
</body>
</html>
