<!DOCTYPE html>
<html lang="en" class="group/html">
<head>
{% include "head.liquid" %}
</head>
<body>
{% include "topbar.liquid" %}

<main>
{{ page.content }}
</main>

{% include "footer.liquid" %}
{% include "theme-toggle.liquid" %}

<script src="/assets/js/highlight-oxur.min.js"></script>
<script>
// Add Oxur-specific keywords to Clojure highlighting
if (hljs && hljs.getLanguage('clojure')) {
  const clojureDef = hljs.getLanguage('clojure');

  hljs.registerLanguage('oxur', function(hljs) {
    // Create a pattern to match Oxur definition forms
    const oxurDefPattern = {
      begin: '\\(\\s*(deffn|defimpl)\\b',
      end: '(\\[|\\{|\\()',
      excludeEnd: true,
      keywords: {
        keyword: 'deffn defimpl'
      },
      contains: [
        {
          className: 'title',
          begin: '[a-zA-Z_\\-!.?+*=<>&#\'][a-zA-Z_\\-!.?+*=<>&#\'0-9/]*',
          relevance: 0
        }
      ]
    };

    // Combine with Clojure contains at the front (higher priority)
    const contains = [oxurDefPattern].concat(clojureDef.contains || []);

    return {
      name: 'Oxur',
      aliases: ['lisp'],
      contains: contains
    };
  });
}
hljs.highlightAll();
</script>
<script src="/assets/js/main.js"></script>
</body>
</html>
